<!DOCTYPE html>
<head>
  <title>StegOnline</title>
  <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
  <!--JQuery-->
  <script src="./assets/jquery-3.3.1.min.js"></script>
  <!--Bootstrap-->
  <link rel="stylesheet" type="text/css" href="./assets/bootstrap.min.css">
  <!--tholman's github corners (http://tholman.com/github-corners/)-->
  <a href="https://github.com/Ge0rg3/StegOnline" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#fff; color:#151513; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
  <!--pngtoy (for parsing transparent images)-->
  <script src="./assets/pngtoy.min.js"></script>
  <!--Custom Stylesheet-->
  <link rel="stylesheet" type="text/css" href="./assets/style.css">
  <!--Custom non-DOM related RGBA functions-->
  <script src="./rgbaFunctions.js"></script>
</head>

<div id="header">
  <h1 id="title">STEGONLINE</h1>
</div>

<body>
  <form enctype="multipart/form-data" action="https://georgeom.net/StegOnline/transparent.php" method="POST">

  <input type="file" name="img" id="files" />

  </form>

  <!-- Image controls -->
  <div id="controls">
    <h3>General Controls</h3>
    <button onclick="restore()">Restore</button>
    <button onclick="xor(false)">Xor</button>
    <button onclick="xor(true)" class="alpha">Xor (+ transparency)</button>
    <button onclick="full('r')">Full Red</button>
    <button onclick="full('b')">Full Blue</button>
    <button onclick="full('g')">Full Green</button>
    <button onclick="full('a')" class="alpha">Full Alpha</button>
    <button onclick="grayBits()" disabled>Gray bits</button>
    <br/>

    <h3>Bit Plane Browser</h3>
    <div id="rgbaPlanes">
      <button onclick="browsePlanes('skip','backward')">&lt;&lt;</button>
      <button onclick="browsePlanes('next','backward')">&lt;</button>
      <span id="currentPlane"></span>
      <button onclick="browsePlanes('next','forward')">&gt;</button>
      <button onclick="browsePlanes('skip','forward')">&gt;&gt;</button>
    </div>
    <button onclick="initPlanes()" id="planesTestBtn">Step through RGBA Planes</button>
    <br/>
    <h3>Extract Hidden Data</h3>
    <button onclick="showExtractPopup()">Extract LSB Data</button>
  </div>

  <!-- Data Extraction -->
  <div id="lsbExtractPopup">
    <div id="close">Close</div>

    <center><h2>Extract Data</h2></center>

    <table style="width: 50%" class="table table-striped table-bordered table-sm" id="lsbtable">
      <tr class="thead-dark">
        <th>Red</th>
        <th>Green</th>
        <th>Blue</th>
        <th>Alpha</th>
      </tr>
      <tr>
        <td>
          <input type="checkbox" name="seven" id="7r" class="form-check-input">
          <label class="form-check-label" for="7r">7</label>
        </td>
        <td>
          <input type="checkbox" name="seven" id="7g" class="form-check-input">
          <label class="form-check-label" for="7g">7</label>
        </td>
        <td>
          <input type="checkbox" name="seven" id="7b" class="form-check-input">
          <label class="form-check-label" for="7b">7</label>
        </td>
        <td>
          <input type="checkbox" name="seven" id="7a" class="form-check-input">
          <label class="form-check-label" for="7a">7</label>
        </td>
      </tr>
      <tr>
        <td>
          <input type="checkbox" name="six" id="6r" class="form-check-input">
          <label class="form-check-label" for="6r">6</label>
        </td>
        <td>
          <input type="checkbox" name="six" id="6g" class="form-check-input">
          <label class="form-check-label" for="6g">6</label>
        </td>
        <td>
          <input type="checkbox" name="six" id="6b" class="form-check-input">
          <label class="form-check-label" for="6b">6</label>
        </td>
        <td>
          <input type="checkbox" name="six" id="6a" class="form-check-input">
          <label class="form-check-label" for="6a">6</label>
        </td>
      </tr>
      <tr>
        <td>
          <input type="checkbox" name="five" id="5r" class="form-check-input">
          <label class="form-check-label" for="5r">5</label>
        </td>
        <td>
          <input type="checkbox" name="five" id="5g" class="form-check-input">
          <label class="form-check-label" for="5g">5</label>
        </td>
        <td>
          <input type="checkbox" name="five" id="5b" class="form-check-input">
          <label class="form-check-label" for="5b">5</label>
        </td>
        <td>
          <input type="checkbox" name="five" id="5a" class="form-check-input">
          <label class="form-check-label" for="5a">5</label>
        </td>
      </tr>
      <tr>
        <td>
          <input type="checkbox" name="four" id="4r" class="form-check-input">
          <label class="form-check-label" for="4r">4</label>
        </td>
        <td>
          <input type="checkbox" name="four" id="4g" class="form-check-input">
          <label class="form-check-label" for="4g">4</label>
        </td>
        <td>
          <input type="checkbox" name="four" id="4b" class="form-check-input">
          <label class="form-check-label" for="4b">4</label>
        </td>
        <td>
          <input type="checkbox" name="four" id="4a" class="form-check-input">
          <label class="form-check-label" for="4a">4</label>
        </td>
      </tr>
      <tr>
        <td>
          <input type="checkbox" name="three" id="3r" class="form-check-input">
          <label class="form-check-label" for="3r">3</label>
        </td>
        <td>
          <input type="checkbox" name="three" id="3g" class="form-check-input">
          <label class="form-check-label" for="3g">3</label>
        </td>
        <td>
          <input type="checkbox" name="three" id="3b" class="form-check-input">
          <label class="form-check-label" for="3b">3</label>
        </td>
        <td>
          <input type="checkbox" name="three" id="3a" class="form-check-input">
          <label class="form-check-label" for="3a">3</label>
        </td>
      </tr>
      <tr>
        <td>
          <input type="checkbox" name="two" id="2r" class="form-check-input">
          <label class="form-check-label" for="2r">2</label>
        </td>
        <td>
          <input type="checkbox" name="two" id="2g" class="form-check-input">
          <label class="form-check-label" for="2g">2</label>
        </td>
        <td>
          <input type="checkbox" name="two" id="2b" class="form-check-input">
          <label class="form-check-label" for="2b">2</label>
        </td>
        <td>
          <input type="checkbox" name="two" id="2a" class="form-check-input">
          <label class="form-check-label" for="2a">2</label>
        </td>
      </tr>
      <tr>
        <td>
          <input type="checkbox" name="one" id="1r" class="form-check-input">
          <label class="form-check-label" for="1r">1</label>
        </td>
        <td>
          <input type="checkbox" name="one" id="1g" class="form-check-input">
          <label class="form-check-label" for="1g">1</label>
        </td>
        <td>
          <input type="checkbox" name="one" id="1b" class="form-check-input">
          <label class="form-check-label" for="1b">1</label>
        </td>
        <td>
          <input type="checkbox" name="one" id="1a" class="form-check-input">
          <label class="form-check-label" for="1a">1</label>
        </td>
      </tr>
      <tr>
        <td>
          <input type="checkbox" name="zero" id="0r" class="form-check-input">
          <label class="form-check-label" for="0r">0</label>
        </td>
        <td>
          <input type="checkbox" name="zero" id="0g" class="form-check-input">
          <label class="form-check-label" for="0g">0</label>
        </td>
        <td>
          <input type="checkbox" name="zero" id="0b" class="form-check-input">
          <label class="form-check-label" for="0b">0</label>
        </td>
        <td>
          <input type="checkbox" name="zero" id="0a" class="form-check-input">
          <label class="form-check-label" for="0a">0</label>
        </td>
      </tr>
    </table>


    <div id="lsbOptions" class="radio">
      <h4>Options</h4>
      <p>Extract by</p>
      <label><input type="radio" name="extractBy" class="form-check-input" id="extractRow" checked>Row</label>
      <br/>
      <label><input type="radio" name="extractBy" class="form-check-input" id="extractCol">Column (First run slow)</label>

      <p>Bit Order</p>
      <label><input type="radio" name="bitOrder" class="form-check-input" id="orderMSB" checked>MSB First</label>
      <br/>
      <label><input type="radio" name="bitOrder" class="form-check-input" id="orderLSB">LSB First</label>

      <p>Bit Plane Order</p>
      <select class="input-small" id="rgbaOne">
        <option value="R" selected>R</option>
        <option value="G">G</option>
        <option value="B">B</option>
        <option value="A">A</option>
      </select>
      <select class="input-small" id="rgbaTwo">
        <option value="R">R</option>
        <option value="G" selected>G</option>
        <option value="B">B</option>
        <option value="A">A</option>
      </select>
      <select class="input-small" id="rgbaThree">
        <option value="R" selected>R</option>
        <option value="G">G</option>
        <option value="B" selected>B</option>
        <option value="A">A</option>
      </select>
      <select class="input-small" id="rgbaFour">
        <option value="R" selected>R</option>
        <option value="G">G</option>
        <option value="B">B</option>
        <option value="A" selected>A</option>
      </select>
    </div>

    <div id="lsbBottomBar">
      <div id="loadingColumn"></div>
      <button onclick="findlsb()">Extract!</button>
      <br/>
    </div>
    <div id="results">
      <div class="inline">
        Ascii (readable only):<br/>
        <textarea rows="6" cols="20" id="asciioutput"></textarea>
      </div>
      <div class="inline">
        Hex (accurate):<br/>
        <textarea rows="6" cols="20" id="hexoutput"></textarea>
      </div>
    </div>
    <div id="lsbError">
    </div>
  </div>

  <!-- Image will be loaded here -->
  <div id="image"></div>
</body>


<script src="./main.js"></script>
